webpackJsonp([17],{"7YsW":function(e,a){},Qe7n:function(e,a){},eskU:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=t("mtWM"),s=t.n(l),o=t("mw3O"),i=t.n(o),r={data:function(){return{currentPage:1,currentSize:2e4,Doctorcould:"",optionsDoctorcould:[],optionsDoctorcouldDefault:[{id:"",name:"请选择保健医",mobile:""}],params:this.$route.params,baseURl:"http://apitest.tianyushangyi.com",token:"",status:"",editFlag:!1,tableData3:[],tableData2:[],tableData1:[],tableData:"",options:[{value:"中日友好",label:"中日友好"},{value:"解放军301",label:"解放军301"},{value:"北京协和",label:"北京协和"},{value:"北京友谊",label:"北京友谊"},{value:"北京医院",label:"北京医院"},{value:"解放军第一附属医院（304医院）",label:"解放军第一附属医院（304医院）"},{value:"解放军第302 医院",label:"解放军第302 医院"},{value:"解放军第306 医院",label:"解放军第306 医院"},{value:"解放军第309医院",label:"解放军第309医院"},{value:"海军总医院",label:"海军总医院"},{value:"空军总医院",label:"空军总医院"},{value:"武警总医院",label:"武警总医院"},{value:"陆军总医院",label:"陆军总医院"},{value:"火箭军总医院",label:"火箭军总医院"},{value:"中国医学科学肿瘤医院",label:"中国医学科学肿瘤医院"},{value:"北京阜外心血管病医院",label:"北京阜外心血管病医院"},{value:"北京大学第一医院",label:"北京大学第一医院"},{value:"北京大学人民医院",label:"北京大学人民医院"},{value:"北京大学第三医院",label:"北京大学第三医院"},{value:"北京大学肿瘤医院",label:"北京大学肿瘤医院"},{value:"北京大学口腔医院",label:"北京大学口腔医院"},{value:"北京中医药大学东方医院",label:"北京中医药大学东方医院"},{value:"北京博爱医院（康复中心）",label:"北京博爱医院（康复中心）"},{value:"北京广安门中医院",label:"北京广安门中医院"},{value:"北京同仁医院",label:"北京同仁医院"},{value:"清华大学长庚医院",label:"清华大学长庚医院"},{value:"北京天坛医院",label:"北京天坛医院"},{value:"北京安贞医院",label:"北京安贞医院"},{value:"北京朝阳医院",label:"北京朝阳医院"},{value:"北京宣武医院",label:"北京宣武医院"},{value:"北京市积水潭医院",label:"北京市积水潭医院"},{value:"北京世纪坛医院",label:"北京世纪坛医院"},{value:"北京中医医院",label:"北京中医医院"},{value:"北京市儿童医院",label:"北京市儿童医院"},{value:"首都儿科研究所",label:"首都儿科研究所"},{value:"北京市妇产医院",label:"北京市妇产医院"},{value:"北京佑安医院",label:"北京佑安医院"},{value:"北京地坛医院",label:"北京地坛医院"},{value:"北京胸科医院",label:"北京胸科医院"},{value:"首都医科大学附属北京口腔医院",label:"首都医科大学附属北京口腔医院"},{value:"北京安定医院",label:"北京安定医院"},{value:"北京回龙观医院",label:"北京回龙观医院"},{value:"北京老年医院",label:"北京老年医院"},{value:"北京小汤山疗养院",label:"北京小汤山疗养院"}],options2:[{value:"专家门诊",label:"专家门诊"},{value:"特需门诊",label:"特需门诊"},{value:"国际部",label:"国际部"}],fujian:[],content:""}},methods:{gettoken:function(){this.token=localStorage.getItem("currentUser_token")},sublist:function(){var e=this,a=e.params.token_TO;s.a.defaults.headers.post.token=a,s()({method:"post",url:e.baseURl+"/appointservice/detail?id="+e.params.task_id,data:""}).then(function(a){if("0"==a.data.code){e.tableData3.push(a.data.data.appointInfo);for(var t=a.data.data.appointInfo.caseAppendagePath.split(";"),l=0;l<t.length;l++)if(""!=t[l]&&void 0!=t[l]&&null!=t[l]){var s=t[l].split("name=")[1];if(""!=s&&void 0!=s&&null!=s){var o=s.split(".");e.fujian.push({name:o[0],url:t[l]})}}console.log(e.fujian),e.tableData2.push(a.data.data.orderInfo),e.tableData=a.data.data.id,e.tableData1.push(a.data.data.serviceInfo),e.Doctorcould=a.data.data.serviceInfo.onlineDoctorId;var i=new Date(e.tableData3[0].appointDate);e.tableData1[0].serviceDate=e.getTime(i),console.log(e.tableData1[0].serviceDate)}else e.$message({message:"请求失败",type:"error"})})},getTime:function(e){return(e=new Date).getFullYear()+":"+(e.getMonth()+1)+":"+e.getDate()+" "+(e.getHours()<10?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())},Confirmorder:function(){var e=this,a="";e.tableData1.map(function(e,t){a=e}),a.id=e.tableData,a.onlineDoctorId=e.Doctorcould,console.log(a),s()({method:"post",url:e.baseURl+"/appointservice/acceptappoint",data:a}).then(function(a){"0"==a.data.code?(e.$message({message:"请求成功",type:"success"}),e.$router.push({name:"ServeMakeList"})):e.$message({message:a.data.desc,type:"error"})})},doc:function(){var e=this;this.token=localStorage.getItem("currentUser_token");var a={pageSize:this.currentSize,pageNum:this.currentPage};s.a.defaults.headers.post.token=this.token,s()({method:"post",url:this.baseURl+"/user/docker",data:i.a.stringify(a)}).then(function(a){"0"==a.data.code&&(e.optionsDoctorcould=a.data.data.rows,console.log(e.optionsDoctorcould))})},goBack:function(){window.history.go(-1)},confirstatus:function(){"未付款"==this.status?this.$message({message:"未付款状态不能点击确定订单按钮",type:"error"}):this.Confirmorder()}},mounted:function(){this.sublist(),this.gettoken(),this.status=this.params.status_TO,"未处理"==this.status?this.editFlag=!1:this.editFlag=!0,this.doc()}},n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-container",{staticClass:"orderlineitem"},[t("el-header",[t("div",{staticClass:"ty-el-header"},[t("el-col",{attrs:{span:24}},[t("i",{staticClass:"el-icon-date"}),e._v(" 当前订单状态："),t("span",[e._v(e._s(this.status))])])],1)]),e._v(" "),t("el-main",[t("div",{staticClass:"ty-listone"},[t("div",{staticClass:"ty-el-main"},[t("el-col",{attrs:{span:12}},[t("i",{staticClass:"el-icon-date"}),e._v("预约信息")])],1),e._v(" "),t("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData3,border:""}},[t("el-table-column",{attrs:{prop:"appointDate",label:"预约日期",width:"180"}}),e._v(" "),t("el-table-column",{attrs:{prop:"productName",label:"服务名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"consultationType",label:"咨询类型"}}),e._v(" "),t("el-table-column",{attrs:{prop:"conditionComplaint",label:"病情主诉"}}),e._v(" "),t("el-table-column",{attrs:{label:"附件"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(e.fujian,function(a){return t("el-button",{attrs:{size:"mini",type:"primary"}},[t("a",{staticStyle:{color:"white","text-decoration":"none"},attrs:{href:a.url+"&token="+e.token}},[e._v(e._s(a.name)+" ")])])})}}])})],1)],1),e._v(" "),t("div",{staticClass:"ty-listone"},[t("div",{staticClass:"ty-el-main"},[t("el-col",{attrs:{span:12}},[t("i",{staticClass:"el-icon-date"}),e._v("订单信息")])],1),e._v(" "),t("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData2,border:""}},[t("el-table-column",{attrs:{prop:"no",label:"编号",width:"180"}}),e._v(" "),t("el-table-column",{attrs:{prop:"orderNo",label:"订单编号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),t("el-table-column",{attrs:{prop:"mobile",label:"手机号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"createDate",label:"创建时间"}}),e._v(" "),t("el-table-column",{attrs:{prop:"status",label:"状态"}}),e._v(" "),t("el-table-column",{attrs:{prop:"source",label:"来源"}})],1)],1),e._v(" "),t("div",{staticClass:"ty-listone"},[t("div",{staticClass:"ty-el-main"},[t("el-col",{attrs:{span:12}},[t("i",{staticClass:"el-icon-date"}),e._v("其他信息")])],1),e._v(" "),t("div",{staticClass:"el-el-main-input"},e._l(e.tableData1,function(a,l){return t("el-form",{attrs:{data:e.tableData1}},[t("el-form-item",{attrs:{label:"服务时间：",prop:"serviceDate"}},[t("el-date-picker",{attrs:{readonly:e.editFlag,type:"datetime","value-format":"yyyy-MM-dd HH:mm",format:"yyyy-MM-dd HH:mm",placeholder:"选择日期"},model:{value:a.serviceDate,callback:function(t){e.$set(a,"serviceDate",t)},expression:"list.serviceDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"陪诊人员姓名：",prop:"serviceName"}},[t("el-input",{attrs:{placeholder:"陪诊人员姓名",readonly:e.editFlag},model:{value:a.serviceName,callback:function(t){e.$set(a,"serviceName",t)},expression:"list.serviceName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"陪诊人员电话：",prop:"serviceMobile"}},[t("el-input",{attrs:{placeholder:"陪诊人员电话",readonly:e.editFlag},model:{value:a.serviceMobile,callback:function(t){e.$set(a,"serviceMobile",t)},expression:"list.serviceMobile"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"使用人姓名:",prop:"useName"}},[t("el-input",{attrs:{placeholder:"使用人姓名",readonly:e.editFlag},model:{value:a.useName,callback:function(t){e.$set(a,"useName",t)},expression:"list.useName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"使用人电话：",prop:"useMobile"}},[t("el-input",{attrs:{placeholder:"使用人电话",readonly:e.editFlag},model:{value:a.useMobile,callback:function(t){e.$set(a,"useMobile",t)},expression:"list.useMobile"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"就诊地点:",prop:"visitAddress"}},[t("el-select",{attrs:{placeholder:"就诊地点",disabled:e.editFlag},model:{value:a.visitAddress,callback:function(t){e.$set(a,"visitAddress",t)},expression:"list.visitAddress"}},e._l(e.options,function(e){return t("el-option",{attrs:{value:e.value,label:e.label}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"就诊类型：",prop:"visitType"}},[t("el-select",{attrs:{placeholder:"就诊类型",disabled:e.editFlag},model:{value:a.visitType,callback:function(t){e.$set(a,"visitType",t)},expression:"list.visitType"}},e._l(e.options2,function(e){return t("el-option",{attrs:{value:e.value,label:e.label}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"保健医:",prop:"visitAddress"}},[t("el-select",{attrs:{placeholder:"保健医",disabled:e.editFlag},model:{value:e.Doctorcould,callback:function(a){e.Doctorcould=a},expression:"Doctorcould"}},[e._l(e.optionsDoctorcouldDefault,function(e){return t("el-option",{attrs:{value:e.id,label:e.name+e.mobile}})}),e._v(" "),e._l(e.optionsDoctorcould,function(e){return t("el-option",{attrs:{value:e.id,label:e.name+e.mobile}})})],2)],1),e._v(" "),t("el-form-item",{attrs:{label:"备注：",prop:"remark"}},[t("el-input",{attrs:{placeholder:"备注",readonly:e.editFlag},model:{value:a.remark,callback:function(t){e.$set(a,"remark",t)},expression:"list.remark"}})],1)],1)}))])]),e._v(" "),t("el-footer",[t("div",{staticClass:"ty-right-anniu"},[t("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.editFlag,expression:"!editFlag"}],on:{click:e.confirstatus}},[e._v("接受预约")]),e._v(" "),t("el-button",{on:{click:e.goBack}},[e._v("取消")])],1)])],1)},staticRenderFns:[]};var u=t("VU/8")(r,n,!1,function(e){t("Qe7n"),t("7YsW")},"data-v-29a39934",null);a.default=u.exports}});
//# sourceMappingURL=17.e60e7b108277b7af5307.js.map