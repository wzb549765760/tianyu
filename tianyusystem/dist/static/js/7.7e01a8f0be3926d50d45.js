webpackJsonp([7],{A1tS:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAeCAYAAABjTz27AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ZTJhNTViMi1mMWZmLTQ0NjMtYTNmMy05YmM2NDAwYzgyOGIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkY4ODM3N0E2NkQ3MTFFOEJGQzRFRjEyRjQ5N0JCQkIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkY4ODM3Nzk2NkQ3MTFFOEJGQzRFRjEyRjQ5N0JCQkIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1ZTJhNTViMi1mMWZmLTQ0NjMtYTNmMy05YmM2NDAwYzgyOGIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NWUyYTU1YjItZjFmZi00NDYzLWEzZjMtOWJjNjQwMGM4MjhiIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+KTrNRQAAAjJJREFUeNrkmDFIQlEUhs8LkwrUmmpoTQQRLFpMaWywhnBKqCEIh7aaAheXoKm2BgkaCnJJGsqhMSyXKEGChy0NDTaVChU22DlwLb3c91Dp3V6vAz9P8By4H/e+8/5zlXq9DlaKHrBY2Bo/FEXRTHIcrNGfAVQEFUJ5UC4J6yujVFQWlUblqks7mkeKTpvSOHJaQAgTxscmym+CDcij4giV6RgIQRz4SKIWTHiyUqgYglXbAkKYEXyco3wmfl0KqBmEKukCsZ25NDlMM1SwsVPEYhMkJWXDDNkHYHksAOFRL7hdwzBo74eX2hsUy0+QebyD/fscPNdeRaU+tt7oV3Nr3iHWAM5kwqy4pyAxPgfO3j7NnMrHOyRuT2GveKWVMkuNouXIOQ/X6czdyOxmW5PzsOqZbjt/V72AjesTre43UVncrjd/WAMyYWhnOoGhoHyqE4Sfrb/FKURkvjN0zLoJqqN6QUR4oJAsIGoAeu+MXlAd1QsixAN5ZAFRNzOg3sMDuWQBUWs2oN71a26bvjNG1fdwzlZK0EfTgPoyD6TKAiIHYEC9ygNlZQGRnTGgPssDpWUBkTcjO9NNUB3VCyLNA+WYhTA8yGiSN+vqw4p1AqOaZ+v/BmKjbVzWLpHRJG/WSVC+hkGNN0Zz0Tx0JHNK/QG3nUKYqN48FEN5Zc1EtMjjh3y381CBrReE85AVRnChU2BJQXYZYcZIsdG7xP/xf66xOKi/d9FolbDc3fanAAMAN1kWfkN0f2IAAAAASUVORK5CYII="},T8H4:function(t,e){},chPc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAeCAYAAABjTz27AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1ZTJhNTViMi1mMWZmLTQ0NjMtYTNmMy05YmM2NDAwYzgyOGIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkY4ODM3N0U2NkQ3MTFFOEJGQzRFRjEyRjQ5N0JCQkIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkY4ODM3N0Q2NkQ3MTFFOEJGQzRFRjEyRjQ5N0JCQkIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1ZTJhNTViMi1mMWZmLTQ0NjMtYTNmMy05YmM2NDAwYzgyOGIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NWUyYTU1YjItZjFmZi00NDYzLWEzZjMtOWJjNjQwMGM4MjhiIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+dhdwrwAAAgdJREFUeNrcmLFqAkEQhuck2h22Vyo2YjiQdBLrFElnFV/Al1ArzUv4ArGyS4rUBrsgHIiNaCNcG67T4jIT1kTHvYt7C8vlfhgOdH7Zj90bZ9YKwxCyJCuzQJZlRSYNBgP6soHRwmhiVDGKBtb3ibHEmGJMMGb9fj9yB4jlTyCEucfHE0Y9BRswx+gi1KsyEILY+BhhPKbwZI0xOggWXASEMA4+3jDcFL8uHsYdQvmxQGJn3lMOcwx1e9gpYrmSJI2iYAqFApRKJXAcB2zbhnw+D/v9HoIgAN/3YbPZwG63MwnkivW2pVVOFIAXmbNcLkOtVvuGiBLBLRYLWK/XpnfqgQrFyZEbDod05j5k1cx1XahUKhf/+mq1As/zTFe/m16vF+aOPmzIYGhnVGBIlE8+g6qL9cMxUEv2ztAxSyLykd+gWhyoyTOoAMS9M3EiH/kNqsmBqjyDqpmOdP2KqnKgs96MSrOOdP2KKnIg6bHRka4/iXKssz37X9GRrj9BZ34CtOQZ1AHoSNevqCUHmvIMamd0pOtX1JQDTXgG9WZJjw35yG9QEw40Ey3Ej6jRpN4sichnsFGdi/X/AonRtsszqdGk3kxFlG+4Qe0eRnPZPPQsm1JT3G2PEaYdNw91MK75TESL3G63aZuHPLHe+FufTI3gmbwkyeQ1FoP6fxeNWVHmgL4EGACGtiQKPG4o4AAAAABJRU5ErkJggg=="},xEFL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mtWM"),n=i.n(a),s={data:function(){return{putonCount:"",putoffCount:"",total:"2",searchWorld:"",separator:"",baseURl:"http://apitest.tianyushangyi.com",token:"",currentPage:1,currentSize:10,pageNum:0,tableData:[],query:{query:"",isputon:""}}},name:"catalogue",methods:{onDisplay:function(t){this.query.isputon=t,this.sublist()},sublistAll:function(){this.query.isputon="",this.sublist()},puton:function(){this.query.isputon="1",this.sublist()},putout:function(){this.query.isputon="0",this.sublist()},gettoken:function(){this.token=localStorage.getItem("currentUser_token")},isstate:function(t,e,i,a){return i?"已上架":"未上架"},switchoverState:function(t,e){var i=this;t.isPutOn=!t.isPutOn;var a={id:e,isPutOn:!!t.isPutOn};n()({method:"post",url:i.baseURl+"/commodity/setputon",data:a}).then(function(t){"0"==t.data.code?i.$message({message:"上架状态切换成功",type:"success"}):i.$message({message:"上架状态切换失败",type:"error"})})},indexMethod:function(t){return 1*t+1},handleSizeChange:function(t){this.currentSize=t,this.sublist()},handleCurrentChange:function(t){this.currentPage=t,this.sublist()},sublist:function(){var t=this,e=localStorage.getItem("currentUser_token"),i={pageSize:this.currentSize,pageNum:this.currentPage,query:{isputon:this.query.isputon,query:this.query.query}};n.a.defaults.headers.post.token=e,n()({method:"post",url:this.baseURl+"/commodity/list",data:i}).then(function(e){"0"==e.data.code&&(console.log(i),t.tableData=e.data.data.rows,t.pageNum=parseInt(e.data.data.total),console.log(t.tableData,i))})},handleEdit:function(t,e){console.log(t,e),this.$router.push({name:"compilecommodity",params:{ta_id:e}})},editformdelet:function(t,e){var i=this;e=e;console.log(e);var a=localStorage.getItem("currentUser_token");n.a.defaults.headers.post.token=a,n()({method:"post",url:this.baseURl+"/commodity/delete?id="+e,data:""}).then(function(t){"0"==t.data.code?(console.log("删除成功"),i.sublist(),i.$message({message:"删除成功",type:"success"})):console.log(t.data.desc)})},commodityoverview:function(){var t=this,e=localStorage.getItem("currentUser_token");n.a.defaults.headers.get.token=e,n()({method:"get",url:t.baseURl+"/commodity/overview"}).then(function(e){"0"==e.data.code?(t.putonCount=e.data.data.putonCount,t.putoffCount=e.data.data.putoffCount,t.total=e.data.data.total,console.log(t.putonCount)):console.log(e.data.desc)})}},mounted:function(){this.sublist(),this.commodityoverview()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"catalogue"},[a("el-header",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("i",{staticClass:"el-icon-menu"}),t._v(" 商品列表")]),t._v(" "),a("el-col",{attrs:{span:2,offset:3}},[a("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:t.sublistAll}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.onDisplay("")}}},[t._v("全部"),a("span",{staticStyle:{color:"red","margin-left":"10px"}},[t._v(t._s(this.total))])])])]),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:t.puton}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.onDisplay(1)}}},[t._v("已上架"),a("span",{staticStyle:{color:"red","margin-left":"10px"}},[t._v(t._s(this.putonCount))])])])]),t._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:t.putout}},[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.onDisplay(0)}}},[t._v("未上架"),a("span",{staticStyle:{color:"red","margin-left":"10px"}},[t._v(t._s(this.putoffCount))])])])]),t._v(" "),a("el-input",{staticClass:"searchBox",attrs:{placeholder:"请输入商品名称/编号"},model:{value:t.query.query,callback:function(e){t.$set(t.query,"query",e)},expression:"query.query"}}),t._v(" "),a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.sublist}})],1)],1),t._v(" "),a("el-main",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",resizable:!1,index:t.indexMethod}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",resizable:!1,label:"名称",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"no",resizable:!1,label:"编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",resizable:!1,label:"标注单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"majorPath",resizable:!1,label:"商品主图片路径"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.majorPath,width:"60",height:"40"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"isPutOn",resizable:!1,label:"上架状态",formatter:t.isstate}}),t._v(" "),a("el-table-column",{attrs:{resizable:!1,label:"操作上架状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isPutOn?a("div",{attrs:{type:"text",size:"small"},on:{click:function(i){t.switchoverState(e.row,e.row.id)}}},[a("img",{attrs:{src:i("A1tS"),alt:""}})]):t._e(),t._v(" "),e.row.isPutOn?t._e():a("div",{attrs:{type:"text",size:"small"},on:{click:function(i){t.switchoverState(e.row,e.row.id)}}},[a("img",{attrs:{src:i("chPc"),alt:""}})])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",resizable:!1,type:"primary"},on:{click:function(i){t.handleEdit(e.$index,e.row.id)}}},[t._v("编辑\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",resizable:!1,type:"danger"},on:{click:function(i){t.editformdelet(e.$index,e.row.id)}}},[t._v("删除\n          ")])]}}])})],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":10,background:"",layout:"sizes,prev, pager, next",total:t.pageNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1)],1)},staticRenderFns:[]};var l=i("VU/8")(s,o,!1,function(t){i("T8H4")},"data-v-5273b0a6",null);e.default=l.exports}});
//# sourceMappingURL=7.7e01a8f0be3926d50d45.js.map