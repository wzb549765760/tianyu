webpackJsonp([14],{"7VlD":function(t,e){},F8Hj:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mtWM"),n=s.n(a),l={components:{ElButton:s("EMXe").a},name:"orderlist",data:function(){return{updataOrder:{time:"",updataOrder:""},formInline:{user:"",region:""},formLabelWidth:"100px",searchWorld:"",options:[{value:"success",label:"提前一天"},{value:"pending",label:"提前3天"},{value:"pendi",label:"提前一周"}],tableData:[],baseURl:"http://apitest.tianyushangyi.com",token:"",currentPage:1,currentSize:10,pageNum:0,multipleSelection:[],query:{status:"",userInfo:"",no:""}}},methods:{sub:function(){console.log("2222")},handleSelectionChange:function(t){var e=this;t&&t.forEach(function(t){e.multipleSelection=t.id,console.log(e.multipleSelection)})},gettoken:function(){this.token=localStorage.getItem("currentUser_token")},indexMethod:function(t){return 1*t+1},handleSizeChange:function(t){this.currentSize=t,this.sublist()},handleCurrentChange:function(t){this.currentPage=t,this.sublist()},sublist:function(){var t=this,e=localStorage.getItem("currentUser_token"),s={pageSize:this.currentSize,pageNum:this.currentPage,query:{status:this.query.status,userInfo:this.query.userInfo,no:this.query.no}};n.a.defaults.headers.post.token=e,n()({method:"post",url:this.baseURl+"/todolist/list",data:s}).then(function(e){"0"==e.data.code&&(t.tableData=e.data.data.rows,t.pageNum=parseInt(e.data.data.total),console.log(t.tableData))})},handlecompile:function(t,e,s){this.$router.push({name:"ServiceOrderDetails",params:{task_id:e,token_TO:this.token,status_TO:s}})},editformdelet:function(t,e,s){var a=this;if("已完成"!=s){var l=localStorage.getItem("currentUser_token");n.a.defaults.headers.get.token=l,n()({method:"get",url:a.baseURl+"/todolist/setfinished?id="+e}).then(function(t){"0"==t.data.code&&(a.$message({type:"success",message:"修改成功"}),a.sublist())})}},status1:function(){this.query.status="1",this.sublist()},status3:function(){this.query.status="",this.sublist()},status2:function(){this.query.status="2",this.sublist()}},mounted:function(){this.sublist(),this.gettoken()}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticClass:"MessageLists"},[s("el-header",{staticStyle:{height:"100%"}},[s("el-row",[s("div",{staticClass:"ty-header-list1"},[s("el-col",{staticClass:"ty-el-col-header",attrs:{span:2}},[s("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:t.status3}},[s("span",[t._v("全部"),s("span")])])]),t._v(" "),s("el-col",{staticClass:"ty-el-col-header",attrs:{span:2,offset:1}},[s("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:t.status1}},[s("span",[t._v("服务中"),s("span")])])]),t._v(" "),s("el-col",{staticClass:"ty-el-col-header",attrs:{span:2,offset:1}},[s("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:t.status2}},[s("span",[t._v("已完成"),s("span")])])])],1),t._v(" "),s("div",{staticClass:"ty-header-list2"},[s("el-col",{attrs:{span:24}},[s("i",{staticClass:"el-icon-search"}),t._v(" 筛选查询")])],1),t._v(" "),s("div",{staticClass:"ty-header-list3"},[s("div",{staticClass:"ty-shaoxuan-content"},[s("div",{staticClass:"ty-shaixuan-list1"},[s("span",[t._v("服务编号：")]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"})]),t._v(" "),s("el-input",{staticClass:"searchBox",attrs:{placeholder:"请输入内容"},model:{value:t.query.no,callback:function(e){t.$set(t.query,"no",e)},expression:"query.no"}})],1),t._v(" "),s("div",{staticClass:"ty-shaixuan-list1"},[s("span",[t._v("使用人信息：")]),t._v(" "),s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple"})]),t._v(" "),s("el-input",{staticClass:"searchBox",attrs:{placeholder:"请输入内容"},model:{value:t.query.userInfo,callback:function(e){t.$set(t.query,"userInfo",e)},expression:"query.userInfo"}}),t._v(" "),s("el-button",{on:{click:t.sublist}},[t._v("筛选")])],1)])])])],1),t._v(" "),s("el-main",[s("div",{staticClass:"ty-header-list2"},[s("el-col",{attrs:{span:2}},[s("i",{staticClass:"el-icon-document"}),t._v(" 订单列表")])],1),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),s("el-table-column",{attrs:{type:"index",index:t.indexMethod}}),t._v(" "),s("el-table-column",{attrs:{prop:"no",label:"编号"}}),t._v(" "),s("el-table-column",{attrs:{prop:"serviceNo",label:"服务编号"}}),t._v(" "),s("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),s("el-table-column",{attrs:{prop:"content",label:"内容"}}),t._v(" "),s("el-table-column",{attrs:{prop:"serviceDate",label:"时间"}}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态"}}),t._v(" "),s("el-table-column",{attrs:{prop:"warmPreDay",label:"提醒时间"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){t.handlecompile(e.$index,e.row.serviceOrderId,e.row.status)}}},[t._v("查看订单\n          ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){t.editformdelet(e.$index,e.row.id,e.row.status)}},model:{value:e.row.status,callback:function(s){t.$set(e.row,"status",s)},expression:"scope.row.status"}},[t._v(t._s(e.row.status)+"\n          ")])]}}])})],1),t._v(" "),s("div",{staticClass:"pages"},[s("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":10,background:"",layout:"sizes,prev, pager, next",total:t.pageNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1)],1)},staticRenderFns:[]};var o=s("VU/8")(l,i,!1,function(t){s("7VlD"),s("sJqQ")},"data-v-45e9bb80",null);e.default=o.exports},sJqQ:function(t,e){}});
//# sourceMappingURL=14.b0c413b288248ab35e4a.js.map