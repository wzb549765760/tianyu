webpackJsonp([13],{"07FG":function(t,e){},"6e0b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mtWM"),l=a.n(s),n={name:"orderlist",data:function(){return{searchWorld:"",separator:"",baseURl:"http://apitest.tianyushangyi.com",token:"",currentPage:1,currentSize:10,pageNum:0,tableData:[],query:{status:"",mobile:"",no:""},listStatus:""}},methods:{gettoken:function(){this.token=localStorage.getItem("currentUser_token")},indexMethod:function(t){return 1*t+1},handleSizeChange:function(t){this.currentSize=t,this.sublist()},handleCurrentChange:function(t){this.currentPage=t,this.sublist()},sublist:function(t){var e=this;void 0==t||""==t||null==t?t=this.listStatus:"all"==t?(this.listStatus="",t=""):this.listStatus=t;var a=localStorage.getItem("currentUser_token"),s={pageSize:this.currentSize,pageNum:this.currentPage,query:{status:t,mobile:this.query.mobile,no:this.query.no}};l.a.defaults.headers.post.token=a,l()({method:"post",url:this.baseURl+"/purchaseorder/list",data:s}).then(function(t){"0"==t.data.code&&(e.tableData=t.data.data.rows,e.pageNum=parseInt(t.data.data.total),console.log(e.tableData))})},handlecompile:function(t,e,a){console.log(t,e,a,this.token),this.$router.push({name:"orderlineitem",params:{task_id:e,token_TO:this.token,status_TO:a}})},handlecompilestate:function(t,e,a){var s=this,n=localStorage.getItem("currentUser_token");l.a.defaults.headers.get.token=n,l()({method:"get",url:s.baseURl+"/purchaseorder/setpaied?id="+e}).then(function(t){"0"==t.data.code?(s.$message({type:"success",message:"成功"}),s.sublist()):s.$message({type:"error",message:t.data.desc})})}},mounted:function(){var t=this.$route.params.status;""!=t&&null!=t&&void 0!=t||(t="all"),this.sublist(t),this.gettoken()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"orderlist"},[a("el-header",{staticStyle:{height:"100%"}},[a("el-row",[a("div",{staticClass:"ty-header-list1"},[a("el-col",{staticClass:"ty-el-col-header",attrs:{span:2}},[a("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:function(e){t.sublist("all")}}},[a("span",[t._v("全部订单"),a("span")])])]),t._v(" "),a("el-col",{staticClass:"ty-el-col-header",attrs:{span:2,offset:1}},[a("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:function(e){t.sublist("0")}}},[a("span",[t._v("未付款"),a("span")])])]),t._v(" "),a("el-col",{staticClass:"ty-el-col-header",attrs:{span:2,offset:1}},[a("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:function(e){t.sublist("1")}}},[a("span",[t._v("已付款"),a("span")])])]),t._v(" "),a("el-col",{staticClass:"ty-el-col-header",attrs:{span:2,offset:1}},[a("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:function(e){t.sublist("2")}}},[a("span",[t._v("服务中"),a("span")])])]),t._v(" "),a("el-col",{staticClass:"ty-el-col-header",attrs:{span:2,offset:1}},[a("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:function(e){t.sublist("3")}}},[a("span",[t._v("已完成"),a("span")])])]),t._v(" "),a("el-col",{staticClass:"ty-el-col-header",attrs:{span:2,offset:1}},[a("div",{staticClass:"grid-content bg-purple ty-catalogue-list1",on:{click:function(e){t.sublist("4")}}},[a("span",[t._v("已取消"),a("span")])])])],1),t._v(" "),a("div",{staticClass:"ty-header-list2"},[a("el-col",{attrs:{span:24}},[a("i",{staticClass:"el-icon-search"}),t._v(" 筛选查询")])],1),t._v(" "),a("div",{staticClass:"ty-header-list3"},[a("div",{staticClass:"ty-shaoxuan-content"},[a("div",{staticClass:"ty-shaixuan-list1"},[a("span",[t._v("订单编号：")]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),t._v(" "),a("el-input",{staticClass:"searchBox",attrs:{placeholder:"订单编号"},model:{value:t.query.no,callback:function(e){t.$set(t.query,"no",e)},expression:"query.no"}}),t._v(" "),a("span",[t._v("手机号：")]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content bg-purple"})]),t._v(" "),a("el-input",{staticClass:"searchBox",attrs:{placeholder:"手机号码"},model:{value:t.query.mobile,callback:function(e){t.$set(t.query,"mobile",e)},expression:"query.mobile"}}),t._v(" "),a("el-button",{on:{click:function(e){t.sublist("")}}},[t._v("筛选")])],1),t._v(" "),a("div",{staticClass:"ty-shaixuan-list1"})])])])],1),t._v(" "),a("el-main",[a("div",{staticClass:"ty-header-list2"},[a("el-col",{attrs:{span:24}},[a("i",{staticClass:"el-icon-document"}),t._v(" 订单列表")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",index:t.indexMethod}}),t._v(" "),a("el-table-column",{attrs:{prop:"no",label:"编号",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"picPath",label:"商品图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.picPath,width:"60",height:"40"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"commodityName",label:"商品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"count",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalPrice",label:"总价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"payType",label:"支付方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"订单状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"source",label:"来源"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作付款状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"未付款"==e.row.status,expression:"scope.row.status == '未付款'"}],attrs:{size:"mini",type:"primary",disabled:"对公转账"!=e.row.payType},on:{click:function(a){t.handlecompilestate(e.$index,e.row.id,e.row.status)}}},[t._v("切换\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){t.handlecompile(e.$index,e.row.id,e.row.status)}}},[t._v("查看详情订单\n          ")])]}}])})],1),t._v(" "),a("div",{staticClass:"pages"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":10,background:"",layout:"sizes,prev, pager, next",total:t.pageNum},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(t){a("vn1r"),a("07FG")},"data-v-76b83232",null);e.default=o.exports},vn1r:function(t,e){}});
//# sourceMappingURL=13.840def8045c4b6fa83d5.js.map