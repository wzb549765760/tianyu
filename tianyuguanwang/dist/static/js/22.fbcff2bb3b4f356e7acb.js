webpackJsonp([22],{"7FYo":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"forget",data:function(){return{mobile:"",code:"",password:"",passwordCheck:"",url:this.$store.state.vuexs.url,timerShow:!0,backTimer:60}},methods:{pushToUrl2:function(e){this.$router.push({path:e})},getCodeNumber:function(e){var t=this;console.log(e);if(11!=e.length||""==e)return this.$message({showClose:!0,message:"请正确输入手机号",type:"error"}),void(this.timerShow=!0);var s={mobile:e};clearInterval(a),this.timerShow=!1,this.backTimer=60;var a=window.setInterval(function(e){t.backTimer--,t.backTimer<0&&(t.timerShow=!0,clearInterval(a)),e.preventDefault()},1e3);this.axios({method:"post",url:this.url+"/account/sendupdatepasswordcode",data:this.qs.stringify(s)}).then(function(e){console.log(e)}).catch(function(e){})},updatePassword:function(){var e=this;if(e.password!=e.passwordCheck)alert("两次密码不一致");else{var t={mobile:e.mobile,code:e.code,newPassword:e.password};e.axios({method:"post",url:e.url+"/account/updatepassword",data:e.qs.stringify(t)}).then(function(t){console.log(t),0==t.data.code?(alert(t.data.desc),e.pushToUrl2("/login")):alert(t.data.desc)}).catch(function(e){})}}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"reg-container"},[s("div",{staticClass:"reg-title"},[e._v("忘记密码")]),e._v(" "),s("div",{staticClass:"reg-info"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.mobile,expression:"mobile"}],staticClass:"text",attrs:{type:"text",placeholder:"输入手机号"},domProps:{value:e.mobile},on:{input:function(t){t.target.composing||(e.mobile=t.target.value)}}}),e._v(" "),s("div",{staticClass:"yzm-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"text",attrs:{type:"text",placeholder:"短信验证码"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.timerShow,expression:"timerShow"}],staticClass:"yzm",on:{click:function(t){e.getCodeNumber(e.mobile)}}},[e._v("获取验证码")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.timerShow,expression:"!timerShow"}]},[e._v(e._s(e.backTimer)+"s后重新发送")])]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"text",attrs:{type:"password",placeholder:"设置6至20位登录密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordCheck,expression:"passwordCheck"}],staticClass:"text",attrs:{type:"password",placeholder:"请再次输入登录密码"},domProps:{value:e.passwordCheck},on:{input:function(t){t.target.composing||(e.passwordCheck=t.target.value)}}}),e._v(" "),s("span",{staticClass:"treaty"}),e._v(" "),s("div",{staticClass:"reg-btn",on:{click:e.updatePassword}},[e._v("\n          立即重置\n      ")])])])},staticRenderFns:[]};var r=s("VU/8")(a,o,!1,function(e){s("df+V")},null,null);t.default=r.exports},"df+V":function(e,t){}});
//# sourceMappingURL=22.fbcff2bb3b4f356e7acb.js.map