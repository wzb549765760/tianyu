webpackJsonp([1],{HbNu:function(t,a){},mTUd:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={name:"pay",data:function(){return{tableData3:{},params:this.$route.params,url:this.$store.state.vuexs.url,payImg:"",hours:2,minute:0,dataTimer:null,type:"wechat"}},created:function(){this.$route.params.id?(this.params=this.$route.params,this.$store.state.vuexs.pay=this.$route.params):this.params=this.$store.state.vuexs.pay},methods:{getErImage:function(){var t=this;t.type="wechat",t.axios.defaults.headers.get.token=t.Cookies.get("token"),t.axios({method:"get",url:t.url+"/order/order?id="+t.params.id+"&type="+t.type}).then(function(a){console.log(a),0==a.data.code?(t.payImg=a.data.data.payImg,t.payTimer()):t.$message.error("获取支付信息失败")})},aliPay:function(){var t=this;t.type="aliWeb",t.axios.defaults.headers.get.token=t.Cookies.get("token"),t.axios({method:"get",url:t.url+"/order/order?id="+t.params.id+"&type="+t.type}).then(function(a){console.log(a),0==a.data.code?(console.log(a),window.location.href=a.data.data):t.$message.error("获取支付信息失败")})},open:function(){var t=this;this.$alert("支付成功","支付状态",{confirmButtonText:"确定"}).then(function(){t.$router.push("/products")})},payTimer:function(){var t=this;t.dataTimer=window.setTimeout(function(){t.axios.defaults.headers.post.token=t.Cookies.get("token"),t.axios({method:"post",url:t.url+"/purchaseorder/list",data:{pageNum:1,pageSize:10}}).then(function(a){if(0==a.data.code)return"已付款"==a.data.data.rows[0].status?void t.$router.push("/paySuccess"):void(t.$route.params.id&&t.payTimer())})},3e3)}},mounted:function(){},watch:{}},i={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"pay-box"},[s("div",{staticClass:"pay-container"},[s("span",{staticClass:"pay-title"},[t._v("支付订单")]),t._v(" "),s("span",{staticStyle:{"font-size":"26px"}},[t._v(t._s(t.params.no))]),t._v(" "),s("div",{staticClass:"pay-desc"},[s("div",{staticClass:"pay-desc1"},[s("img",{attrs:{src:e("GKZ2"),alt:""}}),t._v(" "),s("div",{staticClass:"pay-desc1Min"},[s("span",{staticClass:"pay-desc1Min-Title1"},[t._v("订单提交成功！请尽快完成支付")]),t._v(" "),s("div",{staticClass:"pay-desc1Min-Title2"},[t._v("请在"),s("span",[t._v(t._s(t.hours)+"小时"+t._s(t.minute)+"分")]),t._v("内完成支付")])])]),t._v(" "),s("div",{staticClass:"pay-desc2"},[t._v("应付金额 ： "),s("span",[t._v("¥"+t._s(t.params.price))])])]),t._v(" "),s("span",{staticClass:"border-line"}),t._v(" "),s("span",{staticClass:"pay-info"},[t._v("请选择以下支付方式付款"),s("el-button",{staticStyle:{width:"100px","margin-left":"30px"},attrs:{type:"success"},on:{click:t.getErImage}},[t._v("微信支付")]),t._v(" "),s("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:t.aliPay}},[t._v("支付宝支付")])],1),t._v(" "),s("div",{staticClass:"pay-image"},[s("div",{staticClass:"pay-imageMin"},[s("img",{attrs:{src:t.payImg,alt:""}}),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.payImg,expression:"payImg"}]},[t._v("微信扫一扫")])]),t._v(" "),s("el-button",{attrs:{type:"text"},on:{click:t.open}})],1)])])},staticRenderFns:[]};var r=e("VU/8")(s,i,!1,function(t){e("HbNu")},"data-v-8bd0e66e",null);a.default=r.exports}});
//# sourceMappingURL=1.69449fdd21d27b31383f.js.map