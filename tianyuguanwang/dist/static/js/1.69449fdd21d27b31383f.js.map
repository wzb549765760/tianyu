{"version":3,"sources":["webpack:///src/components/pay.vue","webpack:///./src/components/pay.vue?0d1d","webpack:///./src/components/pay.vue"],"names":["pay","name","data","tableData3","params","this","$route","url","$store","state","vuexs","payImg","hours","minute","dataTimer","type","created","id","methods","getErImage","self","axios","defaults","headers","get","Cookies","method","then","res","console","log","code","payTimer","$message","error","aliPay","window","location","href","open","$alert","confirmButtonText","$router","push","setTimeout","post","pageNum","pageSize","rows","status","mounted","watch","components_pay","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticStyle","font-size","_s","no","attrs","src","__webpack_require__","alt","price","width","margin-left","on","click","directives","rawName","value","expression","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.69449fdd21d27b31383f.js","sourcesContent":["<template>\r\n  <div class=\"pay-box\">\r\n    <div class=\"pay-container\">\r\n      <span class=\"pay-title\">支付订单</span>\r\n      <span style=\"font-size: 26px;\">{{params.no}}</span>\r\n      <div class=\"pay-desc\">\r\n        <div class=\"pay-desc1\">\r\n          <img src=\"../../static/images/paysuccess.png\" alt=\"\">\r\n          <div class=\"pay-desc1Min\">\r\n            <span class=\"pay-desc1Min-Title1\">订单提交成功！请尽快完成支付</span>\r\n            <div class=\"pay-desc1Min-Title2\">请在<span>{{ hours }}小时{{ minute }}分</span>内完成支付</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"pay-desc2\">应付金额 ： <span>¥{{params.price}}</span></div>\r\n      </div>\r\n      <span class=\"border-line\"></span>\r\n      <span class=\"pay-info\">请选择以下支付方式付款<el-button type=\"success\"\r\n                                                   style=\"width: 100px;margin-left: 30px\" @click=\"getErImage\">微信支付</el-button>\r\n      <el-button type=\"primary\" style=\"width: 120px\" @click=\"aliPay\">支付宝支付</el-button></span>\r\n\r\n      <div class=\"pay-image\">\r\n        <div class=\"pay-imageMin\">\r\n          <img :src=\"payImg\" alt=\"\">\r\n          <span v-show=\"payImg\">微信扫一扫</span>\r\n        </div>\r\n        <!--<div class=\"pay-imageMin\">\r\n          <img src=\"../../static/images/logo.png\" alt=\"\">\r\n          <span>支付宝扫一扫</span>\r\n        </div>-->\r\n        <el-button type=\"text\" @click=\"open\"></el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"pay\",\r\n    data() {\r\n      return {\r\n        tableData3: {},\r\n        params: this.$route.params,\r\n        url: this.$store.state.vuexs.url,\r\n        payImg: \"\",\r\n        hours: 2,\r\n        minute: 0,\r\n        dataTimer: null,\r\n        type:\"wechat\"\r\n      }\r\n    },\r\n    created() {\r\n      if (this.$route.params.id) {\r\n        this.params = this.$route.params;\r\n        this.$store.state.vuexs.pay = this.$route.params\r\n      } else {\r\n        this.params = this.$store.state.vuexs.pay;\r\n      }\r\n    },\r\n    methods: {\r\n      getErImage() {\r\n        const self = this;\r\n        self.type=\"wechat\";\r\n        self.axios.defaults.headers.get['token'] = self.Cookies.get(\"token\");\r\n        self.axios({\r\n          method: \"get\",\r\n          url: self.url + \"/order/order?id=\" + self.params.id+\"&type=\"+self.type,\r\n        }).then(function (res) {\r\n          console.log(res);\r\n          if(res.data.code==0){\r\n            self.payImg = res.data.data.payImg;\r\n            self.payTimer()\r\n          }else{\r\n            self.$message.error(\"获取支付信息失败\")\r\n          }\r\n        })\r\n      },\r\n      aliPay(){\r\n        const self = this;\r\n        self.type=\"aliWeb\";\r\n        self.axios.defaults.headers.get['token'] = self.Cookies.get(\"token\");\r\n        self.axios({\r\n          method: \"get\",\r\n          url: self.url + \"/order/order?id=\" + self.params.id+\"&type=\"+self.type,\r\n        }).then(function (res) {\r\n          console.log(res);\r\n          if(res.data.code==0){\r\n            console.log(res);\r\n            window.location.href =res.data.data\r\n          }else{\r\n            self.$message.error(\"获取支付信息失败\")\r\n          }\r\n        })\r\n      },\r\n      open() {\r\n        const self = this;\r\n        this.$alert('支付成功', '支付状态', {\r\n          confirmButtonText: '确定'\r\n        }).then(function () {\r\n          self.$router.push('/products')\r\n        });\r\n      },\r\n      payTimer() {\r\n        const self = this;\r\n        self.dataTimer = window.setTimeout(() => {\r\n          self.axios.defaults.headers.post['token'] = self.Cookies.get(\"token\");\r\n          self.axios({\r\n            method: \"post\",\r\n            url: self.url + \"/purchaseorder/list\",\r\n            data: {\r\n              pageNum: 1,\r\n              pageSize: 10\r\n            }\r\n          }).then(function (res) {\r\n            if (res.data.code == 0) {\r\n              if (res.data.data.rows[0].status == '已付款') {\r\n                /*self.open();*/\r\n                self.$router.push(\"/paySuccess\")\r\n                return\r\n              } else {\r\n                self.$route.params.id ? self.payTimer() : null;\r\n                return\r\n              }\r\n            }\r\n            ;\r\n          })\r\n        }, 3000)\r\n      }\r\n    },\r\n    mounted() {\r\n      /*this.getErImage();*/\r\n      /*this.payTimer();*/\r\n    },\r\n    watch: {\r\n      /* $route(to,from){\r\n         console.log(to);\r\n         if(to.name==\"mainhome\"||\"sources\"||\"content\"||\"myserves\"||\"products\"){\r\n           this.payTimer=null\r\n         }\r\n       }*/\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .pay-box {\r\n    position: absolute;\r\n    overflow: auto;\r\n  }\r\n\r\n  .pay-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    box-sizing: border-box;\r\n    padding: 120px 160px;\r\n  }\r\n\r\n  .pay-title {\r\n    font-size: 20px;\r\n    font-family: MicrosoftYaHei;\r\n    color: rgba(131, 131, 131, 1);\r\n    line-height: 26px;\r\n  }\r\n\r\n  .pay-desc {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 40px 0 0 0;\r\n  }\r\n\r\n  .pay-desc1 {\r\n    display: flex;\r\n  }\r\n\r\n  .pay-desc1 img {\r\n    width: 80px;\r\n    height: 80px;\r\n  }\r\n\r\n  .pay-desc1Min {\r\n    display: inline-flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    margin: 0 0 0 20px;\r\n  }\r\n\r\n  .pay-desc1Min-Title1 {\r\n    font-size: 36px;\r\n    font-family: MicrosoftYaHei;\r\n    color: rgba(48, 48, 48, 1);\r\n    line-height: 47px;\r\n  }\r\n\r\n  .pay-desc1Min-Title2 {\r\n    display: flex;\r\n    font-size: 24px;\r\n    font-family: MicrosoftYaHei;\r\n    color: rgba(131, 131, 131, 1);\r\n    line-height: 31px;\r\n  }\r\n\r\n  .pay-desc1Min-Title2 span {\r\n    color: #FF6555;\r\n  }\r\n\r\n  .pay-desc2 {\r\n    display: inline-flex;\r\n    align-items: flex-end;\r\n    font-size: 24px;\r\n    font-family: MicrosoftYaHei;\r\n    color: rgba(48, 48, 48, 1);\r\n    line-height: 31px;\r\n  }\r\n\r\n  .pay-desc2 span {\r\n    font-size: 36px;\r\n    color: #FF6555;\r\n  }\r\n\r\n  .border-line {\r\n    height: 1px;\r\n    background: rgba(218, 218, 218, 1);\r\n    margin: 60px 0 0 0;\r\n  }\r\n\r\n  .pay-info {\r\n    font-size: 20px;\r\n    font-family: MicrosoftYaHei;\r\n    color: rgba(48, 48, 48, 1);\r\n    line-height: 26px;\r\n    margin: 60px 0 0 0;\r\n  }\r\n\r\n  .pay-image {\r\n    display: flex;\r\n    margin: 40px 0 0 0;\r\n  }\r\n\r\n  .pay-imageMin {\r\n    display: inline-flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    margin: 0 200px 0 0;\r\n  }\r\n\r\n  .pay-imageMin img {\r\n    width: 200px;\r\n    height: 200px;\r\n  }\r\n\r\n  .pay-imageMin span {\r\n    font-size: 18px;\r\n    font-family: MicrosoftYaHei;\r\n    color: rgba(48, 48, 48, 1);\r\n    line-height: 24px;\r\n    margin: 13px 0 0 0;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pay.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pay-box\"},[_c('div',{staticClass:\"pay-container\"},[_c('span',{staticClass:\"pay-title\"},[_vm._v(\"支付订单\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"26px\"}},[_vm._v(_vm._s(_vm.params.no))]),_vm._v(\" \"),_c('div',{staticClass:\"pay-desc\"},[_c('div',{staticClass:\"pay-desc1\"},[_c('img',{attrs:{\"src\":require(\"../../static/images/paysuccess.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"pay-desc1Min\"},[_c('span',{staticClass:\"pay-desc1Min-Title1\"},[_vm._v(\"订单提交成功！请尽快完成支付\")]),_vm._v(\" \"),_c('div',{staticClass:\"pay-desc1Min-Title2\"},[_vm._v(\"请在\"),_c('span',[_vm._v(_vm._s(_vm.hours)+\"小时\"+_vm._s(_vm.minute)+\"分\")]),_vm._v(\"内完成支付\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"pay-desc2\"},[_vm._v(\"应付金额 ： \"),_c('span',[_vm._v(\"¥\"+_vm._s(_vm.params.price))])])]),_vm._v(\" \"),_c('span',{staticClass:\"border-line\"}),_vm._v(\" \"),_c('span',{staticClass:\"pay-info\"},[_vm._v(\"请选择以下支付方式付款\"),_c('el-button',{staticStyle:{\"width\":\"100px\",\"margin-left\":\"30px\"},attrs:{\"type\":\"success\"},on:{\"click\":_vm.getErImage}},[_vm._v(\"微信支付\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.aliPay}},[_vm._v(\"支付宝支付\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"pay-image\"},[_c('div',{staticClass:\"pay-imageMin\"},[_c('img',{attrs:{\"src\":_vm.payImg,\"alt\":\"\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.payImg),expression:\"payImg\"}]},[_vm._v(\"微信扫一扫\")])]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.open}})],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8bd0e66e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pay.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8bd0e66e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./pay.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./pay.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./pay.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8bd0e66e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./pay.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8bd0e66e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pay.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}